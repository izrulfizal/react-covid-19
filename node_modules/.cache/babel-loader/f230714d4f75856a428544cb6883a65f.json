{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\User\\\\Javascript\\\\covid-19\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\Javascript\\\\covid-19\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\User\\\\Javascript\\\\covid-19\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\User\\\\Javascript\\\\covid-19\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./App.css\";import data from\"./components/data/map.json\";import mapboxgl from\"mapbox-gl\";import{useState,useEffect}from\"react\";import axios from\"axios\";mapboxgl.accessToken=\"pk.eyJ1IjoiZXJoYW5mYWRsaSIsImEiOiJjanlpcXJ0d3EwZDF2M21xaHljZXcyN2x1In0.QykinU8klSV-ZCDEi0G8rQ\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={Data:[]};return _this;}_createClass(App,[{key:\"renderBaseMap\",value:function renderBaseMap(){var map=new mapboxgl.Map({container:this.mapContainer,style:\"mapbox://styles/erhanfadli/ck84p63gd04gl1impbqwi9cza\",center:[101.65,3.109308],zoom:10//this.state.zoom,\n});return map;}},{key:\"getUsersData\",value:function getUsersData(){var _this2=this;map=renderBaseMap();axios.get(\"/api\",{}).then(function(res){var data=res.data.covidList;console.log(data);var markers=[];data.features.forEach(function(element){//console.log(element.properties.latitude);\nvar el=document.createElement(\"div\");el.className=\"marker\";new mapboxgl.Marker(el).setLngLat([element.properties.longitude,element.properties.latitude]).addTo(map);//markers.push(marker);\n});_this2.setState({map:map});}).catch(function(error){console.log(error);});}},{key:\"componentDidMount\",value:function componentDidMount(){map=this.renderBaseMap();this.getUsersData(map);// alert(data.features[0].properties.latitude); Add Marker to map from JSON\n}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{ref:function ref(el){return _this3.mapContainer=el;},className:\"mapContainer\"}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/User/Javascript/covid-19/client/src/App.js"],"names":["React","Component","data","mapboxgl","useState","useEffect","axios","accessToken","App","props","state","Data","map","Map","container","mapContainer","style","center","zoom","renderBaseMap","get","then","res","covidList","console","log","markers","features","forEach","element","el","document","createElement","className","Marker","setLngLat","properties","longitude","latitude","addTo","setState","catch","error","getUsersData"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,4BAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACAH,QAAQ,CAACI,WAAT,CAAuB,+FAAvB,C,GAEMC,CAAAA,G,0FACF,aAAYC,KAAZ,CAAmB,qCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAAb,CAFe,aAKlB,C,qEAEe,CACZ,GAAMC,CAAAA,GAAG,CAAG,GAAIT,CAAAA,QAAQ,CAACU,GAAb,CAAiB,CACzBC,SAAS,CAAE,KAAKC,YADS,CAEzBC,KAAK,CAAE,sDAFkB,CAGzBC,MAAM,CAAE,CAAC,MAAD,CAAS,QAAT,CAHiB,CAIzBC,IAAI,CAAE,EAAI;AAJe,CAAjB,CAAZ,CAMA,MAAON,CAAAA,GAAP,CACH,C,mDAEc,iBACXA,GAAG,CAAGO,aAAa,EAAnB,CACAb,KAAK,CACAc,GADL,QACiB,EADjB,EAEKC,IAFL,CAEU,SAACC,GAAD,CAAS,CACX,GAAMpB,CAAAA,IAAI,CAAGoB,GAAG,CAACpB,IAAJ,CAASqB,SAAtB,CACAC,OAAO,CAACC,GAAR,CAAYvB,IAAZ,EAEA,GAAMwB,CAAAA,OAAO,CAAG,EAAhB,CACAxB,IAAI,CAACyB,QAAL,CAAcC,OAAd,CAAsB,SAACC,OAAD,CAAa,CAC/B;AACA,GAAIC,CAAAA,EAAE,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT,CACAF,EAAE,CAACG,SAAH,CAAe,QAAf,CAEA,GAAI9B,CAAAA,QAAQ,CAAC+B,MAAb,CAAoBJ,EAApB,EAAwBK,SAAxB,CAAkC,CAACN,OAAO,CAACO,UAAR,CAAmBC,SAApB,CAA+BR,OAAO,CAACO,UAAR,CAAmBE,QAAlD,CAAlC,EAA+FC,KAA/F,CAAqG3B,GAArG,EACA;AACH,CAPD,EASA,MAAI,CAAC4B,QAAL,CAAc,CACV5B,GAAG,CAAHA,GADU,CAAd,EAGH,CAnBL,EAoBK6B,KApBL,CAoBW,SAACC,KAAD,CAAW,CACdlB,OAAO,CAACC,GAAR,CAAYiB,KAAZ,EACH,CAtBL,EAuBH,C,6DAEmB,CAChB9B,GAAG,CAAG,KAAKO,aAAL,EAAN,CACA,KAAKwB,YAAL,CAAkB/B,GAAlB,EAEA;AACH,C,uCAEQ,iBACL,mBACI,4CACI,2BAAK,GAAG,CAAE,aAACkB,EAAD,QAAS,CAAA,MAAI,CAACf,YAAL,CAAoBe,EAA7B,EAAV,CAA4C,SAAS,CAAC,cAAtD,EADJ,CADJ,CAKH,C,iBA1Da7B,S,EA6DlB,cAAeO,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport data from \"./components/data/map.json\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nmapboxgl.accessToken = \"pk.eyJ1IjoiZXJoYW5mYWRsaSIsImEiOiJjanlpcXJ0d3EwZDF2M21xaHljZXcyN2x1In0.QykinU8klSV-ZCDEi0G8rQ\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Data: [],\r\n        };\r\n    }\r\n\r\n    renderBaseMap() {\r\n        const map = new mapboxgl.Map({\r\n            container: this.mapContainer,\r\n            style: \"mapbox://styles/erhanfadli/ck84p63gd04gl1impbqwi9cza\",\r\n            center: [101.65, 3.109308],\r\n            zoom: 10, //this.state.zoom,\r\n        });\r\n        return map;\r\n    }\r\n\r\n    getUsersData() {\r\n        map = renderBaseMap();\r\n        axios\r\n            .get(`/api`, {})\r\n            .then((res) => {\r\n                const data = res.data.covidList;\r\n                console.log(data);\r\n\r\n                const markers = [];\r\n                data.features.forEach((element) => {\r\n                    //console.log(element.properties.latitude);\r\n                    var el = document.createElement(\"div\");\r\n                    el.className = \"marker\";\r\n\r\n                    new mapboxgl.Marker(el).setLngLat([element.properties.longitude, element.properties.latitude]).addTo(map);\r\n                    //markers.push(marker);\r\n                });\r\n\r\n                this.setState({\r\n                    map,\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        map = this.renderBaseMap();\r\n        this.getUsersData(map);\r\n\r\n        // alert(data.features[0].properties.latitude); Add Marker to map from JSON\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div ref={(el) => (this.mapContainer = el)} className=\"mapContainer\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}